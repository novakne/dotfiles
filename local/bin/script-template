#!/usr/bin/env bash
#
# Generate a template script
#
# USAGE: script-template <name>
#
# REQUIREMENTS:

_message()
{
	cat <<-END
		#!/usr/bin/env bash
		#
		# <description>
		#
		# USAGE: $1
		#
		# REQUIREMENTS:
		# OPTIONALS:

		# Error message in STDERR
		_err()
		{
		    printf -- '%s\n' "[$(date +'%Y-%m-%d %H:%M:%S')]: \$*" >&2
		    exit 1
		}

		$1()
		{}

		$1 "\$@"

	END
}

script-template()
{
	local template

	template="$(_message "$1")"
	printf -- '%s\n' "${template}" >"$1"
	chmod 774 "$1"
	"${EDITOR:-nvim}" "$1"
}

script-template "$@"
