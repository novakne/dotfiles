#!/usr/bin/env bash
#
# Add a timestamp to every line of a stream
#
# USAGE: <command> | stamper
#
# REQUIREMENTS:
# OPTIONALS:

stamper()
{
	while read -r
	do
		printf '%(%Y-%m-%d %H:%M:%S)T %s\n' -1 "$REPLY"
	done
}

stamper "$@"
