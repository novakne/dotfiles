# Open the selected file with the default editor
# - Bypass fuzzy finder if there's only one match (--select-1)
# - Exit if there's no match (--exit-0)
#
# REQUIREMENTS: fzf, neovim

emulate -L zsh
setopt extendedglob

local files

IFS=$'\n' files=($(fzf-tmux --query="$1" --multi --select-1 --exit-0))

[[ -n "${files[*]}" ]] && "${EDITOR:-nvim}" "${files[@]}"

# vim set ft=zsh

